<html lang="fr" ng-app="recentSubmissions">
   <head>
      <title>Vue des résultats d'une soumission</title>
      <meta http-equiv="content-type" content="text/html;charset=utf-8" />
      <script src="//ajax.googleapis.com/ajax/libs/angularjs/1.2.14/angular.min.js"></script>
      <script type="text/javascript">window.angular || document.write('<script src="ext/angular.min.js">\x3C/script>')</script>
      <script src="//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
      <script type="text/javascript">window.jQuery || document.write('<script src="ext/jquery.min.js">\x3C/script>')</script>
      <script src="ext/jquery/jquery.ba-postmessage.min.js"></script>
      <script src="ext/bootstrap/ui-bootstrap_modified.js"></script> <!-- boostrap ui in angular. We only use local version because it has been modified -->
      <script src="config.js"></script>
      <script src="js/recentSubmissionsCtrl.js"></script>
      <script src="js/submissionManager.js"></script>
      <script src="js/get_height_submission.js"></script>
      <script src="modelsManager/modelsManager.js"></script>
      <script src="shared/models.js"></script>
      <script src="shared/utils.js"></script>
      <script src="sync/syncQueue.js"></script>
      <link href="style.css" type="text/css" rel="stylesheet">
      <link href="ext/bootstrap/css/bootstrap.min.css" type="text/css" rel="stylesheet">
      <script>
         var textStatus = "";
         isLoadingRecentSubmissions = true;
      </script>
   </head>
   
   <body ng-controller="recentSubmissionsCtrl">
	   <div>
		  <h1>Liste des soumissions des 48 dernieres heures ou non évaluées pour le moment</h1>
         
         <div ng-repeat="submission in submissions" class="submission_global">
            <div ng-attr-id="{{'header-submission' + submission.id}}" ng-click="displayDetails[submission.id] = true">
               <accordion close-others="false">
                  <accordion-group is-open="showSubmission">
                     <accordion-heading>
                        <div ng-include src="'template/header_template.html'"></div>
                     </accordion-heading>
                     Chargement en cours...
                  </accordion-group>
               </accordion>
            </div>
            <div ng-if="displayDetails[submission.id]">
               <iframe ng-attr-id="{{'submission' + submission.id}}" class="submission_iframe" scrolling="no" ng-src="{{getUrl(submission.id)}}">
               </iframe>
            </div>
         </div>
         

	   </div>
   
   </body>
</html>
